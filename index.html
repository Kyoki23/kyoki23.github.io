<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lora:ital,wght@1,400&family=Parisienne&display=swap"
        rel="stylesheet">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’Œ</text></svg>">
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Lora:wght@400;500&family=Cormorant+Garamond:wght@400;500&display=swap"
        rel="stylesheet">

    <title>Para mi Leyley</title>

    <style>
        :root {
            --color-fondo-gradiente-1: #d4a6ff;
            --color-fondo-gradiente-2: #fc8eeb;
            --color-sobre-cuerpo: #ffdde1;
            --color-sobre-solapa: #eeb7c2;
            --color-sobre-solapa-superior: #fbe2e7;
            --color-carta: #fdfbfb;
            --color-sello: #cf425c;
            --color-sello-especial: #8B1538;
            --color-sombra-fuerte: rgba(0, 0, 0, 0.25);
            --color-sombra-suave: rgba(0, 0, 0, 0.1);
            --color-texto: #3a3a3a;
            --color-firma: #c91515;
            --fuente-titulo: 'Great Vibes';
            --fuente-fecha: 'Lora', serif;
            --fuente-carta: 'Parisienne';
            --duracion-apertura: 1.2s;
        }

        body {
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--color-fondo-gradiente-1) 0%, var(--color-fondo-gradiente-2) 100%);
            font-family: var(--fuente-fecha);
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-family: var(--fuente-titulo);
            font-size: clamp(2rem, 8vw, 4rem);
            color: #c32cc893;
            text-shadow: 3px 3px 10px var(--color-sombra-fuerte);
            margin: 0 0 20px 0;
        }

        .month-navigation {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .nav-arrow {
            background: var(--color-sello);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px var(--color-sombra-suave);
        }

        .nav-arrow:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px var(--color-sombra-fuerte);
        }

        .month-display {
            font-family: var(--fuente-titulo);
            font-size: 2.5rem;
            color: var(--color-sello);
            text-shadow: 2px 2px 5px var(--color-sombra-suave);
            min-width: 200px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .day-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .day-number {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--color-sello);
            text-shadow: 1px 1px 3px var(--color-sombra-suave);
        }

        .envoltura-sobre {
            position: relative;
            width: 80px;
            height: 55px;
            cursor: pointer;
            filter: drop-shadow(0px 8px 12px var(--color-sombra-fuerte));
            transition: transform 0.3s ease;
        }

        .envoltura-sobre:hover {
            transform: scale(1.05);
        }

        .envoltura-sobre.abierto {
            animation: none;
            z-index: 1002;
        }

        .sobre {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--color-sobre-cuerpo);
            border-radius: 8px;
            box-shadow: inset 0 0 15px var(--color-sombra-suave);
        }

        .sobre::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 8px;
            background: linear-gradient(225deg, var(--color-sobre-cuerpo) 50%, var(--color-sobre-solapa) 50%);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .envoltura-sobre.abierto .sobre::before {
            opacity: 1;
        }

        .corazon.especial {
            background-color: var(--color-sello-especial);
        }

        .corazon.especial::before,
        .corazon.especial::after {
            background-color: var(--color-sello-especial);
        }

        .solapa {
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .solapa-superior {
            top: 0;
            left: 0;
            width: 100%;
            height: 55%;
            background-color: var(--color-sobre-solapa-superior);
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            border-radius: 8px 8px 0 0;
            transform-origin: top;
            z-index: 6;
        }

        .solapa-izquierda {
            top: 0;
            left: 0;
            width: 52%;
            height: 100%;
            background-color: var(--color-sobre-solapa);
            clip-path: polygon(0 0, 100% 50%, 0 100%);
            border-radius: 8px 0 0 8px;
            transform-origin: left;
            z-index: 5;
            transition-delay: 0.2s;
        }

        .solapa-derecha {
            top: 0;
            right: 0;
            width: 52%;
            height: 100%;
            background-color: var(--color-sobre-solapa);
            clip-path: polygon(100% 0, 0 50%, 100% 100%);
            border-radius: 0 8px 8px 0;
            transform-origin: right;
            z-index: 5;
            transition-delay: 0.2s;
        }

        .corazon {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 12px;
            height: 12px;
            background-color: var(--color-sello);
            transform: translate(-50%, -70%) rotate(45deg);
            z-index: 10;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .corazon::before,
        .corazon::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: inherit;
            border-radius: 50%;
        }

        .corazon::before {
            top: -6px;
            left: 0;
        }

        .corazon::after {
            top: 0;
            left: -6px;
        }

        .carta {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 80px;
            height: 55px;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            z-index: 1001;
            pointer-events: none;
            background: var(--color-carta);
            border-radius: 8px;
            padding: 15px;
            box-sizing: border-box;
            background-size: cover;
            background-position: center;
            background-blend-mode: screen;
            background-color: rgba(255, 255, 255);
            box-shadow:
                inset 3px 3px 8px rgba(0, 0, 0, 0.12),
                inset -3px -3px 8px rgba(0, 0, 0, 0.12),
                inset 2px -2px 6px rgba(0, 0, 0, 0.08),
                inset -2px 2px 6px rgba(0, 0, 0, 0.08),
                0 4px 15px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg,
                    #f4f1e8 0%,
                    #f0ead6 25%,
                    #ede4c8 50%,
                    #e8ddb5 75%,
                    #e3d6a7 100%);
            background-image:
                radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.03) 2px, ),
                radial-gradient(circle at 80% 70%, rgba(160, 82, 45, 0.04) 3px, ),
                radial-gradient(circle at 40% 80%, rgba(139, 69, 19, 0.02) 1px, );

            box-shadow:
                inset 3px 3px 8px rgba(101, 67, 33, 0.15),
                inset -3px -3px 8px rgba(101, 67, 33, 0.15),
                inset 2px -2px 6px rgba(139, 69, 19, 0.1),
                inset -2px 2px 6px rgba(139, 69, 19, 0.1),
                0 4px 15px rgba(0, 0, 0, 0.1);

            clip-path: polygon(1% 0%, 99% 2%, 98% 15%, 100% 60%, 95% 45%,
                    100% 60%, 98% 75%, 99% 90%, 94% 100%,
                    75% 98%, 60% 100%, 50% 97%, 40% 99%,
                    25% 96%, 6% 98%, 0% 85%, 2% 70%,
                    0% 55%, 3% 40%, 0% 25%, 1% 10%);

        }

        .carta::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 10%;
            width: 80%;
            height: 1.5px;
            background: linear-gradient(90deg, transparent, rgba(101, 67, 33, 0.2), rgba(139, 69, 19, 0.15), transparent);
            transform: rotate(-2deg);
            z-index: 10;
        }

        .carta::after {
            content: '';
            position: absolute;
            top: 70%;
            right: 15%;
            width: 70%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(101, 67, 33, 0.18), transparent);
            transform: rotate(1.5deg);
            z-index: 10;
        }

        .envoltura-sobre.abierto .carta {
            animation: animacion-abrir-carta var(--duracion-apertura) forwards cubic-bezier(0.18, 0.89, 0.32, 1.28);
            pointer-events: auto;
        }

        .envoltura-sobre.cerrando .carta {
            animation: animacion-cerrar-carta 0.8s forwards cubic-bezier(0.6, -0.28, 0.74, 0.05);
        }

        .envoltura-sobre.abierto .solapa-superior {
            transform: rotateX(180deg);
            z-index: -1;
        }

        .envoltura-sobre.abierto .solapa-izquierda {
            transform: rotateY(180deg);
            z-index: -1;
        }

        .envoltura-sobre.abierto .solapa-derecha {
            transform: rotateY(-180deg);
            z-index: -1;
        }

        .envoltura-sobre.abierto .corazon {
            transform: translateY(-50px) scale(0.3);
            opacity: 0;
        }

        @keyframes animacion-abrir-carta {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.1);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
                width: 90vw;
                height: 90vh;
                max-width: 600px;
                max-height: 700px;
            }
        }

        @keyframes animacion-cerrar-carta {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
                width: 90vw;
                height: 90vh;
                max-width: 600px;
                max-height: 700px;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.1);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
                width: 80px;
                height: 55px;
            }
        }

        .envoltura-sobre.abierto .carta.normal {
            animation: animacion-abrir-carta-normal var(--duracion-apertura) forwards cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }

        .envoltura-sobre.cerrando .carta.normal {
            animation: animacion-cerrar-carta-normal 0.8s forwards cubic-bezier(0.6, -0.28, 0.74, 0.05);
        }

        @keyframes animacion-abrir-carta-normal {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.1);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
                width: 60vw;
                height: auto;
                max-width: 400px;
                max-height: 300px;
                min-height: 200px;
            }
        }

        @keyframes animacion-cerrar-carta-normal {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
                width: 60vw;
                height: auto;
                max-width: 400px;
                max-height: 300px;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.1);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
        }

        .contenido {
            color: var(--color-texto);
            font-family: var(--fuente-carta);
            width: 100%;
            height: 100%;
            overflow: auto;
            padding-right: 15px;
        }

        .contenido .fecha {
            display: block;
            text-align: right;
            font-size: 1rem;
            font-family: var(--fuente-fecha);
            font-style: italic;
            color: #888;
            margin-bottom: 15px;
        }

        .contenido .saludo {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .contenido .cuerpo {
            font-size: 1.3rem;
            line-height: 1.4;
            margin-bottom: 15px;
        }

        .contenido .cuerpo-feb14 {
            font-size: 1.3rem;
            line-height: 1.4;
            height: auto;
        }

        .contenido .firma {
            font-size: 2rem;
            text-align: right;
            color: var(--color-firma);
            margin: 0;
        }

        .bloque-firma {
            display: flex;
            align-items: flex-end;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
        }

        .imagen-recuerdo {
            width: 100px;
            height: auto;
            border-radius: 6px;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        @media (max-width: 768px) {
            .calendar-grid {
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 15px;
            }

            .envoltura-sobre {
                width: 60px;
                height: 42px;
            }

            .month-display {
                font-size: 2rem;
                min-width: 150px;
            }

            .nav-arrow {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .contenido .saludo {
                font-size: 1.3rem;
            }

            .contenido .cuerpo {
                font-size: 1rem;
            }

            .contenido .firma {
                font-size: 1.3rem;
                text-align: center;
            }

            .bloque-firma {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .imagen-recuerdo {
                width: 70px;
            }
        }
    </style>
</head>


<!--
<body>
    <div class="overlay" id="overlay"></div>

    <div class="header">
        <h1>Un te amo por cada dia, para mi amor â€¹3</h1>
        <a href="/flores.html">ðŸ’Œ</a>
        <div class="month-navigation">
            <button class="nav-arrow" id="prevMonth">â€¹</button>
            <div class="month-display" id="monthDisplay">Muak</div>
            <button class="nav-arrow" id="nextMonth">â€º</button>
        </div>
    </div>

    <div class="calendar-grid" id="calendarGrid">
        
    </div>

    <script>
        const meses = [
            'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
            'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
        ];

        const diasPorMes = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

        const fechaInicio = new Date(2025, 8, 4);
        const fechaFin = new Date(2026, 1, 14);

        const mensajesBrutos = `
            septiembre 5: Te amo tanto que no dejo de pensar en ti.
            septiembre 6: Te amo tanto que eres mi primer pensamiento al empezar cada dÃ­a.
            septiembre 7: Te amo tanto que eres mi Ãºltimo pensamiento antes de dormir.
            septiembre 8: Te amo tanto que mis peores pesadillas son que te ocurra algo a ti.
            septiembre 9: Te amo tanto que tu sonido de notificaciÃ³n alegra mi dia entero.
            septiembre 10: Te amo tanto que me paso pensando como te verÃ­as vestida de novia.
            septiembre 11: Te amo tanto que a pesar de los problemas sigo esforzandome por nosotros.
            septiembre 12: Te amo tanto que sigo pensando y soÃ±ando en esos preciosos ojos tuyos.
            septiembre 13: Te amo tanto que todos los dÃ­as espero un mensaje tuyo.
            septiembre 14: Te amo tanto que duele.
            septiembre 15: Te amo tanto que sueÃ±o con un futuro que hicimos nuestro.
            septiembre 16: Te amo tanto que si no me rindo aÃºn es por ti.
            septiembre 17: Te amo tanto que todas las noches sueÃ±o con poder volver contigo.
            septiembre 18: Te amo tanto que mi futuro sigue brillando con tu luz.
            septiembre 19: Te amo tanto que sigo intentando resolver las cosas.
            septiembre 20: Te amo tanto que sigo aqui.
            septiembre 21: Te amo tanto que si ambos fuÃ©semos girasoles, yo estarÃ­a viÃ©ndote, serÃ­as mi Sol.
            septiembre 22: Te amo tanto que incluso en Ã©sta situaciÃ³n eres mi prioridad.
            septiembre 23: Te amo tanto que mi deseo de cumpleaÃ±os fue que volvamos y estemos juntos por siempre, o en su defecto, que seas feliz en tu vida <3.
            septiembre 24: Te amo tanto que aunque mi mente me diga que huya, mi corazÃ³n sigue esperÃ¡ndote.
            septiembre 25: Te amo tanto que escribo esto porque es el Ãºnico modo que me has permitido para darte mensajes de amor, haciendolo en secreto.
            septiembre 26: Te amo tanto que incluso en tu ausencia eres lo mas importante para mi.
            septiembre 27: Te amo tanto que si me llegase a hacer un tatuaje serÃ­a que hiciesemos match de los fragmentos del Alma de Monarca.
            septiembre 28: Te amo tanto que me dueles y me haces feliz.
            septiembre 29: Te amo tanto que incluso si dices estar soltera, hago lo posible para que no lo veas asi, al menos el tiempo que me lo permitas <3.
            septiembre 30: Te amo tanto que sufro con tal de estar contigo, y sufro por gusto.
            octubre 1: Amo tu carita divina, eres un a obra de arte.
            octubre 2: Amo tus preciosos lunares, todos y cada uno de ellos <3.
            octubre 3: Amo tu precioso color canela de piel.
            octubre 4: Amo tu voz, escucharte me alegra el dia entero.
            octubre 5: Amo tu forma de vestir, el que seas femenina es algo fantÃ¡stico.
            octubre 6: Amo tus celos fingidos cuando veÃ­amos Danganronpa (es un cumplido aunque no lo parezca, es pumpe de Kiri).
            octubre 7: Amo tu forma tan linda de amar.
            octubre 8: Amo tu genuina manera de ver el mundo, le das color a lo grisÃ¡ceo.
            octubre 9: Amo tu forma de ser, me vuelves loco, y me enamoras cada vez que hablamos.
            octubre 10: Amo tus ojos, son preciosos, y el delineado que agregas aumenta mas su belleza.
            octubre 11: Amo tu boquita preciosa, me encanta su forma y que parezca que tengas como boquita de gato :3.
            octubre 12: Amo tus esfuerzos por mejorar.
            octubre 13: Amo tus audios a cualquier momento del dÃ­a, pueden subirme el Ã¡nimo por completo.
            octubre 14: Amo tu amor por la natuarleza, me haces querer la vida.
            octubre 15: Amo tu manera Ãºnica de ser, eres una persona increÃ­ble.
            febrero 14: Si estÃ¡s viendo este mensaje, es porque las cosas salieron mal, y lo nuestro finalmente no pudo ser, es una lÃ¡stima, Ã©sta pÃ¡gina de aqui fue el trabajo que estuve realizando desde que terminamos, debido a que no me permitiste el decirte lo mucho que te amaba, quise hacer esto, para que supieras que nunca dejÃ© de pensar en ti, son casi 900 lineas de cÃ³digo, habÃ­a sobres con colores de corazÃ³n distintos, simbolizando que habrÃ­a un secreto, pero no te molestes en buscar, aun no lo he hecho, como puedes ver, hay un patron en los mensajes, todos los mensajes de cada mes empiezan igual, noviembre serÃ­a "Amo cuando [actividad]", diciembre serÃ­a "Te amo porque [razÃ³n]", enero serÃ­a "Amo que [pensamiento tuyo]" y finalmente febrero tendrÃ­a distintas citas de libros o momentos juntos, asi que nunca esperes menos de nadie, te amo y te amarÃ© siempre,, feliz san valentÃ­n adelantado, espero te haya gustado este regalo, adiÃ³s, Leyley <3.
            `;

        const diasEspeciales = [
            { dia: 23, mes: 8, aÃ±o: 2025 },
            { dia: 30, mes: 10, aÃ±o: 2025 }, // 30 noviembre 2025 (mes 10 = noviembre)
            { dia: 2, mes: 0, aÃ±o: 2026 },   // 2 enero 2026 (mes 0 = enero)  
            { dia: 10, mes: 1, aÃ±o: 2026 }   // 10 febrero 2026 (mes 1 = febrero)
        ];


        const mensajes = {};
        mensajesBrutos.split(".").forEach(linea => {
            const limpio = linea.trim();
            if (!limpio) return;

            const [fechaParte, ...mensajeParte] = limpio.split(":");
            const mensaje = mensajeParte.join(":").trim();

            if (fechaParte && mensaje) {
                let [mesTexto, dia] = fechaParte.trim().split(" ");
                dia = parseInt(dia);

                const mesIndex = meses.findIndex(m => m.toLowerCase() === mesTexto.toLowerCase());
                if (mesIndex >= 0) {
                    const aÃ±o = (mesIndex < 8 ? 2026 : 2025);
                    mensajes[`${dia}-${mesIndex}-${aÃ±o}`] = mensaje;
                }
            }
        });

        let mesActual = fechaInicio.getMonth();
        let aÃ±oActual = fechaInicio.getFullYear();

        function esBisiesto(aÃ±o) {
            return (aÃ±o % 4 === 0 && aÃ±o % 100 !== 0) || (aÃ±o % 400 === 0);
        }

        function getDiasMes(mes, aÃ±o) {
            if (mes === 1 && esBisiesto(aÃ±o)) return 29;
            return diasPorMes[mes];
        }

        function actualizarCalendario() {
            const monthDisplay = document.getElementById('monthDisplay');
            const calendarGrid = document.getElementById('calendarGrid');

            monthDisplay.textContent = `${meses[mesActual]} ${aÃ±oActual}`;
            calendarGrid.innerHTML = '';

            const diasEnMes = getDiasMes(mesActual, aÃ±oActual);

            for (let dia = 1; dia <= diasEnMes; dia++) {
                const fecha = new Date(aÃ±oActual, mesActual, dia);
                const bloqueado = fecha < fechaInicio || fecha > fechaFin;

                const dayContainer = document.createElement('div');
                dayContainer.className = 'day-container';

                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = dia;

                const envoltura = document.createElement('div');
                envoltura.className = 'envoltura-sobre';
                envoltura.dataset.dia = dia;
                envoltura.dataset.mes = mesActual;
                envoltura.dataset.aÃ±o = aÃ±oActual;

                if (bloqueado) {
                    envoltura.style.opacity = "0.3";
                    envoltura.style.pointerEvents = "none";
                }

                const clave = `${dia}-${mesActual}-${aÃ±oActual}`;
                const mensaje = mensajes[clave];

                function esCorazonEspecial(dia, mes, aÃ±o) {
                    return diasEspeciales.some(fecha =>
                        fecha.dia === dia && fecha.mes === mes && fecha.aÃ±o === aÃ±o
                    );
                }

                if (mensaje) {
                    const esCartaEspecial = dia === 14 && mesActual === 1 && aÃ±oActual === 2026;
                    const claseCartaEspecial = esCartaEspecial ? '' : 'normal';

                    if (esCartaEspecial) {
                        const claseCorazon = esCorazonEspecial(dia, mesActual, aÃ±oActual) ? 'corazon especial' : 'corazon';
                        envoltura.innerHTML = `
                            <div class="sobre"></div>
                            <div class="solapa solapa-superior"></div>
                            <div class="solapa solapa-derecha"></div>
                            <div class="solapa solapa-izquierda"></div>
                            <div class="${claseCorazon}"></div>
                            <div class="carta">
                                <div class="contenido">
                                    <p class="saludo">Para Leslie,</p>
                                    <p class="cuerpo-feb14">${mensaje}</p>
                                    <div class="bloque-firma">
                                        <img src="" alt="Aqui hubiera estado una foto juntos jsjs ^^" class="imagen-recuerdo">
                                        <p class="firma">Con mucho amor,<br>Alex</p>
                                        
                                    </div>
                                </div>
                            </div>
                        `;
                    } else {
                        const claseCorazon = esCorazonEspecial(dia, mesActual, aÃ±oActual) ? 'corazon especial' : 'corazon';
                        envoltura.innerHTML = `
                            <div class="sobre"></div>
                            <div class="solapa solapa-superior"></div>
                            <div class="solapa solapa-derecha"></div>
                            <div class="solapa solapa-izquierda"></div>
                            <div class="${claseCorazon}"></div>
                            <div class="carta normal">
                                <div class="contenido">
                                    <p class="cuerpo">${mensaje}</p>
                                </div>
                            </div>
                        `;
                    }
                } else {
                    // Sin mensaje - solo sobre sin carta
                    envoltura.innerHTML = `
                    <div class="sobre"></div>
                    <div class="solapa solapa-superior"></div>
                    <div class="solapa solapa-derecha"></div>
                    <div class="solapa solapa-izquierda"></div>
                    <div class="corazon"></div>
                `;
                    envoltura.style.pointerEvents = "none";
                    envoltura.style.opacity = "0.5";
                }

                dayContainer.appendChild(dayNumber);
                dayContainer.appendChild(envoltura);
                calendarGrid.appendChild(dayContainer);
            }

            agregarEventListeners();
        }

        // NavegaciÃ³n meses con bloqueo del rango
        document.getElementById('prevMonth').addEventListener('click', () => {
            const nuevaFecha = new Date(aÃ±oActual, mesActual - 1);
            if (nuevaFecha >= new Date(fechaInicio.getFullYear(), fechaInicio.getMonth())) {
                mesActual--;
                if (mesActual < 0) {
                    mesActual = 11;
                    aÃ±oActual--;
                }
                actualizarCalendario();
            }
        });

        document.getElementById('nextMonth').addEventListener('click', () => {
            const nuevaFecha = new Date(aÃ±oActual, mesActual + 1);
            if (nuevaFecha <= new Date(fechaFin.getFullYear(), fechaFin.getMonth())) {
                mesActual++;
                if (mesActual > 11) {
                    mesActual = 0;
                    aÃ±oActual++;
                }
                actualizarCalendario();
            }
        });

        function agregarEventListeners() {
            const envolturasCartas = document.querySelectorAll('.envoltura-sobre');
            const overlay = document.getElementById('overlay');
            let cartaAbierta = null;
            let isAnimating = false;

            envolturasCartas.forEach(envoltura => {
                envoltura.addEventListener('click', (e) => {
                    e.stopPropagation();

                    if (isAnimating) return;

                    // Verificar si tiene carta
                    const carta = envoltura.querySelector('.carta');
                    if (!carta) return;

                    if (!envoltura.classList.contains('abierto')) {
                        // Cerrar cualquier carta abierta
                        if (cartaAbierta && cartaAbierta !== envoltura) {
                            cerrarCarta(cartaAbierta);
                        }

                        abrirCarta(envoltura);
                        cartaAbierta = envoltura;
                    }
                });
            });

            function abrirCarta(envoltura) {
                isAnimating = true;
                envoltura.classList.add('abierto');
                overlay.classList.add('active');

                const carta = envoltura.querySelector('.carta');
                carta.addEventListener('animationend', () => {
                    isAnimating = false;
                }, { once: true });
            }

            function cerrarCarta(envoltura) {
                isAnimating = true;
                envoltura.classList.add('cerrando');
                overlay.classList.remove('active');

                const carta = envoltura.querySelector('.carta');
                carta.addEventListener('animationend', () => {
                    envoltura.classList.remove('abierto', 'cerrando');
                    isAnimating = false;
                }, { once: true });
            }

            // Cerrar carta al hacer clic en el overlay
            overlay.addEventListener('click', () => {
                if (cartaAbierta && !isAnimating) {
                    cerrarCarta(cartaAbierta);
                    cartaAbierta = null;
                }
            });

            // Cerrar carta con tecla Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && cartaAbierta && !isAnimating) {
                    cerrarCarta(cartaAbierta);
                    cartaAbierta = null;
                }
            });
        }

        actualizarCalendario();
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const audio = new Audio("seasons.mp3");
            audio.volume = 0.3;

            const reproducir = () => {
                audio.play();
                document.removeEventListener("click", reproducir);
                document.removeEventListener("touchstart", reproducir);
            };

            document.addEventListener("click", reproducir);
            document.addEventListener("touchstart", reproducir);
        });
    </script>


</body>
-->
<body>
    <h1>Le dije que no se ponga a ver owo</h1>
</body>
</html>